# 汇编源程序

## 用汇编语言写源程序

###  汇编语言编写程序的工作过程

![image-20230404161228711](./pics/code.png)

###  程序中的三种伪指令

![image-20230404161605738](./pics/code1.png)

### 汇编程序的结构

* Debug 中直接写入指令的汇编程序
* 单独编写成源文件后再编译为可执行文件的程序
  * 适用于编写大程序。
  * 需要包括汇编指令，还要有指导编译工作的伪指令。
  * 源程序由一些段构成，这些段存放代码、数据或将某个段当作栈空间。
  * 注释：;(分号)

###  如何写出一个程序

![image-20230404162304289](./pics/code2.png)

## 由源程序到程序运行

![image-20230404162657381](./pics/code3.png)

![image-20230404164429795](./pics/code4.png)

### 运行和跟踪

![image-20230404165742339](./pics/code5.png)

## [...]和(...)

![image-20230405221517405](./pics/code6.png)

![image-20230405222612201](./pics/code7.png)

## Loop 指令

* 实现循环(计数型循环)

* loop 标号

* CPU 执行 loop 指令时要进行的操作

  * (cx)=(cx)-1 // cx-计数寄存器，count register

  * 判断cx中的值

    不为零则转至标号处执行程序

    如为零则向下执行

## 段前缀

![image-20230406220655483](./pics/code8.png)

## 在代码段中使用数据

在程序中直接写地址是非常危险的。

![image-20230406221526573](./pics/code9.png)

![image-20230406223055654](./pics/code10.png)

## 将数据、代码、栈放入不同的段

![image-20230406223304833](./pics/code11.png)

![image-20230406223448100](./pics/code12.png)